<!DOCTYPE html>

<body>
  <style>
  
.bar_strategy
	  {
		  fill:#fcac1c;
	  }
    .histogram_default .zoom {
      cursor: move;
      fill: none;
      pointer-events: all;
    }
	
.lineDU
{
  fill:none;
  stroke:#89ff00;stroke-width:2px;
}
	 
.Strategy_View .zoom
{
  fill:none;
}
.lineBH
{
  fill:none;
  stroke:#000000;stroke-width:2px;
}
	  .ZeroLine
	  {
		  fill:none;stroke:red;stroke-width:2px; stroke-dasharray: 2, 2;
	  }
.tooltip-date, .tooltip-likes {
  font-weight: bold;
	}
  </style>
<div class="Strategy_View">
 <div id="Strategy_View"></div>
 </div>


  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script>
    //************* generate data ************
    var data =
	[
	
 
  {
    "Date": "22-Apr-81",
    "BH": -0.53,
    "DU": -0.77,
    "Cash": 23.53,ZeroLine:0
  },
  {
    "Date": "23-Apr-81",
    "BH": -1.54,
    "DU": -2.12,
    "Cash": 24.22,ZeroLine:0
  },
  {
    "Date": "24-Apr-81",
    "BH": -2.15,
    "DU": -2.57,
    "Cash": 23.22,ZeroLine:0
  },
  {
    "Date": "27-Apr-81",
    "BH": -1.04,
    "DU": -2.07,
    "Cash": 54.99,ZeroLine:0
  },
  {
    "Date": "28-Apr-81",
    "BH": 0.52,
    "DU": -1.35,
    "Cash": 54.18,ZeroLine:0
  },
  {
    "Date": "29-Apr-81",
    "BH": -0.08,
    "DU": -1.63,
    "Cash": 53.62,ZeroLine:0
  },
  {
    "Date": "30-Apr-81",
    "BH": -1.77,
    "DU": -2.41,
    "Cash": 52.93,ZeroLine:0
  },
  {
    "Date": "01-May-81",
    "BH": -2.19,
    "DU": -2.61,
    "Cash": 51.67,ZeroLine:0
  },
  {
    "Date": "04-May-81",
    "BH": -2.94,
    "DU": -2.98,
    "Cash": 51.09,ZeroLine:0
  },
  {
    "Date": "05-May-81",
    "BH": -1.81,
    "DU": -2.43,
    "Cash": 51.51,ZeroLine:0
  },
  {
    "Date": "06-May-81",
    "BH": -0.65,
    "DU": -1.89,
    "Cash": 52.93,ZeroLine:0
  },
  {
    "Date": "07-May-81",
    "BH": -0.71,
    "DU": -1.92,
    "Cash": 54.09,ZeroLine:0
  },
  {
    "Date": "08-May-81",
    "BH": -0.3,
    "DU": -1.74,
    "Cash": 54.8,ZeroLine:0
  },
  {
    "Date": "11-May-81",
    "BH": -1.09,
    "DU": -2.1,
    "Cash": 55.38,ZeroLine:0
  },
  {
    "Date": "12-May-81",
    "BH": -1.29,
    "DU": -2.03,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "13-May-81",
    "BH": -1.57,
    "DU": -2.47,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "14-May-81",
    "BH": -1.36,
    "DU": -2.55,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "15-May-81",
    "BH": -1.63,
    "DU": -2.67,
    "Cash": 59.79,ZeroLine:0
  },
  {
    "Date": "18-May-81",
    "BH": -0.96,
    "DU": -2.45,
    "Cash": 60.97,ZeroLine:0
  },
  {
    "Date": "19-May-81",
    "BH": -1.09,
    "DU": -2.51,
    "Cash": 61.65,ZeroLine:0
  },
  {
    "Date": "20-May-81",
    "BH": -1.04,
    "DU": -2.1,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "21-May-81",
    "BH": -0.7,
    "DU": -1.56,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "22-May-81",
    "BH": -0.04,
    "DU": -0.5,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "26-May-81",
    "BH": 0.05,
    "DU": -0.87,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "27-May-81",
    "BH": 0.46,
    "DU": -0.72,
    "Cash": 16.37,ZeroLine:0
  },
  {
    "Date": "28-May-81",
    "BH": 1.26,
    "DU": -0.42,
    "Cash": 19.28,ZeroLine:0
  },
  {
    "Date": "29-May-81",
    "BH": 1.54,
    "DU": -0.14,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "01-Jun-81",
    "BH": 1.91,
    "DU": 0.04,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "02-Jun-81",
    "BH": 3.03,
    "DU": 1.27,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "03-Jun-81",
    "BH": 3.22,
    "DU": 1.34,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "04-Jun-81",
    "BH": 3.79,
    "DU": 1.98,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "05-Jun-81",
    "BH": 4.08,
    "DU": 2.78,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "08-Jun-81",
    "BH": 5.08,
    "DU": 3.2,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "09-Jun-81",
    "BH": 3.72,
    "DU": 2.44,
    "Cash": 32.92,ZeroLine:0
  },
  {
    "Date": "10-Jun-81",
    "BH": 4.15,
    "DU": 2.48,
    "Cash": 36.33,ZeroLine:0
  },
  {
    "Date": "11-Jun-81",
    "BH": 6.66,
    "DU": 4.11,
    "Cash": 40.06,ZeroLine:0
  },
  {
    "Date": "12-Jun-81",
    "BH": 7.57,
    "DU": 4.12,
    "Cash": 45.77,ZeroLine:0
  },
  {
    "Date": "15-Jun-81",
    "BH": 6.85,
    "DU": 3.89,
    "Cash": 51.56,ZeroLine:0
  },
  {
    "Date": "16-Jun-81",
    "BH": 5.31,
    "DU": 2.74,
    "Cash": 56.95,ZeroLine:0
  },
  {
    "Date": "17-Jun-81",
    "BH": 5.09,
    "DU": 2.52,
    "Cash": 76.32,ZeroLine:0
  },
  {
    "Date": "18-Jun-81",
    "BH": 4.61,
    "DU": 2.57,
    "Cash": 76.57,ZeroLine:0
  },
  {
    "Date": "19-Jun-81",
    "BH": 4.49,
    "DU": 2.51,
    "Cash": 75.44,ZeroLine:0
  },
  {
    "Date": "22-Jun-81",
    "BH": 3.77,
    "DU": 2.33,
    "Cash": 77.36,ZeroLine:0
  },
  {
    "Date": "23-Jun-81",
    "BH": 4.85,
    "DU": 2.79,
    "Cash": 78.59,ZeroLine:0
  },
  {
    "Date": "24-Jun-81",
    "BH": 4.32,
    "DU": 2.58,
    "Cash": 79.85,ZeroLine:0
  },
  {
    "Date": "25-Jun-81",
    "BH": 3.79,
    "DU": 2.38,
    "Cash": 80.54,ZeroLine:0
  },
  {
    "Date": "26-Jun-81",
    "BH": 2.73,
    "DU": 2.27,
    "Cash": 79.79,ZeroLine:0
  },
  {
    "Date": "29-Jun-81",
    "BH": 1.9,
    "DU": 2.17,
    "Cash": 76.82,ZeroLine:0
  },
  {
    "Date": "30-Jun-81",
    "BH": 1.22,
    "DU": 2,
    "Cash": 74.09,ZeroLine:0
  },
  {
    "Date": "01-Jul-81",
    "BH": 0.77,
    "DU": 1.87,
    "Cash": 73.55,ZeroLine:0
  },
  {
    "Date": "02-Jul-81",
    "BH": -0.91,
    "DU": 1.6,
    "Cash": 74.09,ZeroLine:0
  },
  {
    "Date": "06-Jul-81",
    "BH": -3.42,
    "DU": 1.53,
    "Cash": 74.52,ZeroLine:0
  },
  {
    "Date": "07-Jul-81",
    "BH": -0.47,
    "DU": 2.4,
    "Cash": 75.53,ZeroLine:0
  },
  {
    "Date": "08-Jul-81",
    "BH": 0.46,
    "DU": 2.69,
    "Cash": 77.07,ZeroLine:0
  },
  {
    "Date": "09-Jul-81",
    "BH": -0.47,
    "DU": 2.28,
    "Cash": 78.18,ZeroLine:0
  },
  {
    "Date": "10-Jul-81",
    "BH": -1.23,
    "DU": 2.15,
    "Cash": 79.17,ZeroLine:0
  },
  {
    "Date": "13-Jul-81",
    "BH": -1.2,
    "DU": 2.28,
    "Cash": 79.48,ZeroLine:0
  },
  {
    "Date": "14-Jul-81",
    "BH": -1.22,
    "DU": 2.15,
    "Cash": 80.14,ZeroLine:0
  },
  {
    "Date": "15-Jul-81",
    "BH": -1.33,
    "DU": 2.28,
    "Cash": 80.64,ZeroLine:0
  },
  {
    "Date": "16-Jul-81",
    "BH": -1.19,
    "DU": 2.28,
    "Cash": 80.93,ZeroLine:0
  },
  {
    "Date": "17-Jul-81",
    "BH": -1.19,
    "DU": 2.28,
    "Cash": 81.11,ZeroLine:0
  },
  {
    "Date": "20-Jul-81",
    "BH": -3.06,
    "DU": 1.66,
    "Cash": 82.11,ZeroLine:0
  },
  {
    "Date": "21-Jul-81",
    "BH": -3.06,
    "DU": 1.66,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "22-Jul-81",
    "BH": -3.06,
    "DU": 1.66,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "23-Jul-81",
    "BH": -2.74,
    "DU": 1.73,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "24-Jul-81",
    "BH": -2.49,
    "DU": 2.73,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "27-Jul-81",
    "BH": -2.49,
    "DU": 2.73,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "28-Jul-81",
    "BH": -2.34,
    "DU": 3.03,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "16-Feb-84",
    "BH": 45.07,
    "DU": 79.38,
    "Cash": 91.9,ZeroLine:0
  },
  {
    "Date": "17-Feb-84",
    "BH": 44.57,
    "DU": 79.29,
    "Cash": 94.13,ZeroLine:0
  },
  {
    "Date": "21-Feb-84",
    "BH": 44.36,
    "DU": 79.27,
    "Cash": 96.03,ZeroLine:0
  },
  {
    "Date": "22-Feb-84",
    "BH": 43.95,
    "DU": 79.25,
    "Cash": 97.51,ZeroLine:0
  },
  {
    "Date": "23-Feb-84",
    "BH": 42.93,
    "DU": 79.24,
    "Cash": 98.76,ZeroLine:0
  },
  {
    "Date": "24-Feb-84",
    "BH": 45.42,
    "DU": 82.54,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "27-Feb-84",
    "BH": 46.63,
    "DU": 85.37,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "28-Feb-84",
    "BH": 44.08,
    "DU": 83.99,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "29-Feb-84",
    "BH": 45.4,
    "DU": 83.6,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "01-Mar-84",
    "BH": 43.75,
    "DU": 82.4,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "02-Mar-84",
    "BH": 45.73,
    "DU": 84.38,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "05-Mar-84",
    "BH": 45.22,
    "DU": 83.87,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "06-Mar-84",
    "BH": 44.62,
    "DU": 83.27,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "07-Mar-84",
    "BH": 44.32,
    "DU": 82.98,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "08-Mar-84",
    "BH": 44.64,
    "DU": 83.29,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "09-Mar-84",
    "BH": 43.61,
    "DU": 82.26,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "12-Mar-84",
    "BH": 44.64,
    "DU": 83.42,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "13-Mar-84",
    "BH": 44.95,
    "DU": 83.73,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "14-Mar-84",
    "BH": 45.46,
    "DU": 84.23,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "15-Mar-84",
    "BH": 45.98,
    "DU": 84.75,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "16-Mar-84",
    "BH": 47.21,
    "DU": 85.98,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "19-Mar-84",
    "BH": 45.69,
    "DU": 84.46,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "29-Jul-87",
    "BH": 117.3573953,
    "DU": 177.6140719,
    "Cash": 61.18,ZeroLine:0
  },
  {
    "Date": "30-Jul-87",
    "BH": 117.7141148,
    "DU": 177.6538492,
    "Cash": 63.79,ZeroLine:0
  },
  {
    "Date": "31-Jul-87",
    "BH": 118.1095252,
    "DU": 178.35456,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "03-Aug-87",
    "BH": 117.8706058,
    "DU": 178.4163182,
    "Cash": 2.66,ZeroLine:0
  },
  {
    "Date": "04-Aug-87",
    "BH": 116.5961283,
    "DU": 177.1697328,
    "Cash": 7.41,ZeroLine:0
  },
  {
    "Date": "05-Aug-87",
    "BH": 118.9144846,
    "DU": 180.2017467,
    "Cash": 10.78,ZeroLine:0
  },
  {
    "Date": "06-Aug-87",
    "BH": 120.7908652,
    "DU": 183.3725786,
    "Cash": 14.7,ZeroLine:0
  },
  {
    "Date": "07-Aug-87",
    "BH": 121.6359075,
    "DU": 184.2176209,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "10-Aug-87",
    "BH": 123.4472945,
    "DU": 186.0290079,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "11-Aug-87",
    "BH": 125.2906741,
    "DU": 187.9249786,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "12-Aug-87",
    "BH": 126.6679672,
    "DU": 189.4307394,
    "Cash": 0,ZeroLine:0
  },
  {
    "Date": "13-Aug-87",
    "BH": 127.9544752,
    "DU": 190.7696376,
    "Cash": 12.1,ZeroLine:0
  },
  {
    "Date": "14-Aug-87",
    "BH": 127.3422869,
    "DU": 190.2035798,
    "Cash": 23.98,ZeroLine:0
  },
  {
    "Date": "17-Aug-87",
    "BH": 127.5388705,
    "DU": 190.3266424,
    "Cash": 50.98,ZeroLine:0
  },
  {
    "Date": "21-Jun-21",
    "BH": 732.033653,
    "DU": 1440.298257,
    "Cash": 16.81,ZeroLine:0
  }
]
   
    var margin = {
        top: 40,
        right: 140,
        bottom: 170,
        left: 30
      },
 /*     width = 1000 - margin.left - margin.right,*/
		 width = parseInt(d3.select(".Strategy_View").style("width")) - margin.left - margin.right,
      height = 500 - margin.top - margin.bottom;
    

  // set the ranges
var x = d3.scaleBand()
          .range([0, width]) 
.domain(data.map(function(d) { return d.Date; }))
          
var y = d3.scaleLinear()
.domain([0,d3.max(data, function (d) { return d.Cash; })])
         .range([height, 0]);


var yRightDU = d3.scaleLinear()
.domain([-1500,1500, d3.max(data, function (d) { return d.DU; })])
         .range([height, 0]);

	  var yRightBH = d3.scaleLinear()
.domain([-1500,1500, d3.max(data, function (d) { return d.BH; })])
         .range([height, 0]);  
	  
	  
	  var yRightZeroLine = d3.scaleLinear()
	  .domain([-1400, 1400, d3.max(data, function (d) { return d.ZeroLine; })])
         .range([height, 0]);
	  
 
	  
var svg = d3.select(".Strategy_View").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform", 
          "translate(" + margin.left + "," + margin.top + ")");
 var focus = svg.append("g")
      .attr("class", "focus")
      .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

 var lineBH = d3.line()
	.x(function(d) { return x(d.Date); })
	.y(function(d) { return yRightBH(d.BH); })
 
 var lineDU = d3.line()
	.x(function(d) { return x(d.Date); })
	.y(function(d) { return yRightDU(d.DU); });


 var ZeroLine = d3.line()
	.x(function(d) { return x(d.Date); })
	.y(function(d) { return yRightZeroLine(d.ZeroLine); });
	  
  focus.append("rect")
    .attr("class", "zoom")
    .attr("width", width)
    .attr("height", height)
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
   
    svg.append("defs")
      .append("rect")
      .attr("width", width)
      .attr("height", height);

	    
	   focus.append("path")
    .datum(data)
    .attr("class", "ZeroLine") 
    .attr("d", ZeroLine)
	  
	  
// append the rectangles for the bar chart
  focus.selectAll(".bar_strategy")
      .data(data)
    .enter().append("rect")
      .attr("class", "bar_strategy")
      .attr("x", function(d) { return x(d.Date); })
      .attr("width", x.bandwidth())
      .attr("y", function(d) { return y(d.Cash); })
      /*.attr("height", function(d) { return y(0) - y(d.Cash); })*/
	  .attr("height", function(d) {
return Math.abs(y(d.Cash) - y(0));
})

focus.append("path")
    .datum(data)
    .attr("class", "lineBH") 
    .attr("d", lineBH)
	
	  
	  focus.append("path")
    .datum(data)
    .attr("class", "lineDU") 
    .attr("d", lineDU)
	  
     
	  
    
	
  // add the x Axis
  focus.append("g")
      .attr("transform", "translate(0," + height + ")")
      .call(d3.axisBottom(x).tickValues(x.domain().filter(function(d,i){ return !(i%1)})))
	  .selectAll("text")	
        .style("text-anchor", "end")
        .attr("dx", "-.8em")
        .attr("dy", ".15em")
        .attr("transform", "rotate(-65)");



    // Add the Y Axis
    focus.append("g")
      .attr("class", "axis")
      .call(d3.axisLeft(y).tickFormat(function(d) { return d + "%"; }).tickPadding([5]))
   
// Add the YRight Axis
    focus.append("g")
    .attr("class", "y axis")	
.attr("transform", "translate(" + width + " , 0)")	
      .call(d3.axisRight(yRightDU).ticks(8).tickFormat(function(d) { return d + "%"; }).tickPadding([5]))
	  
	  
    focus.append("g")
    .attr("class", "y axis")	.attr("opacity",0)
.attr("transform", "translate(" + width + " , 0)")	
      .call(d3.axisRight(yRightBH).ticks(8).tickFormat(function(d) { return d + "%"; }).tickPadding([5]))
    focus.append("g")
  
   

	  
  </script>
</body>